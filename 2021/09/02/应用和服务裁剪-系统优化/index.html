<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>应用和服务裁剪--系统优化 | Learn OS concepts by coding them!</title><meta name="keywords" content="应用服务裁剪,系统优化,Android"><meta name="author" content="Jack Ou"><meta name="copyright" content="Jack Ou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="referrer" content="no-referrer"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="本文主要叙述裁剪应用和服务过程">
<meta property="og:type" content="article">
<meta property="og:title" content="应用和服务裁剪--系统优化">
<meta property="og:url" content="https://oujie123.github.io/2021/09/02/%E5%BA%94%E7%94%A8%E5%92%8C%E6%9C%8D%E5%8A%A1%E8%A3%81%E5%89%AA-%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96/index.html">
<meta property="og:site_name" content="Learn OS concepts by coding them!">
<meta property="og:description" content="本文主要叙述裁剪应用和服务过程">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="article:published_time" content="2021-09-02T02:19:37.000Z">
<meta property="article:modified_time" content="2021-09-21T16:09:47.994Z">
<meta property="article:author" content="Jack Ou">
<meta property="article:tag" content="Android">
<meta property="article:tag" content="系统优化">
<meta property="article:tag" content="应用服务裁剪">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><link rel="shortcut icon" href="https://upload-images.jianshu.io/upload_images/13838098-8a5cd66eafd7c761.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><link rel="canonical" href="https://oujie123.github.io/2021/09/02/%E5%BA%94%E7%94%A8%E5%92%8C%E6%9C%8D%E5%8A%A1%E8%A3%81%E5%89%AA-%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Jack Ou","link":"链接: ","source":"来源: Learn OS concepts by coding them!","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-09-22 00:09:47'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://upload-images.jianshu.io/upload_images/13838098-a7dfe0e9d3ed649c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">136</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">99</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分栏</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Learn OS concepts by coding them!</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分栏</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">应用和服务裁剪--系统优化</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-02T02:19:37.000Z" title="发表于 2021-09-02 10:19:37">2021-09-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-21T16:09:47.994Z" title="更新于 2021-09-22 00:09:47">2021-09-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Android/">Android</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>12分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h4 id="1-系统中所有的应用和服务"><a href="#1-系统中所有的应用和服务" class="headerlink" title="1.系统中所有的应用和服务"></a>1.系统中所有的应用和服务</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> pm list packages</span></span><br><span class="line">package:com.android.cts.priv.ctsshim   # tailor</span><br><span class="line">package:com.qualcomm.qti.qms.service.telemetry</span><br><span class="line">package:com.iflytek.autofly.accountcenter</span><br><span class="line">package:com.iflytek.autofly.systemserver</span><br><span class="line">package:com.android.car.messenger</span><br><span class="line">package:com.android.internal.display.cutout.emulation.corner</span><br><span class="line">package:com.gxatek.multiinstanceservice</span><br><span class="line">package:com.qualcomm.qti.improvetouch.service</span><br><span class="line">package:com.android.internal.display.cutout.emulation.double</span><br><span class="line">package:com.android.providers.telephony</span><br><span class="line">package:com.android.providers.calendar # 日历程序支持服务</span><br><span class="line">package:com.iflytek.autofly.naviselect</span><br><span class="line">package:com.gxatek.cockpit.diagnostic</span><br><span class="line">package:com.android.providers.media</span><br><span class="line">package:com.qti.service.colorservice</span><br><span class="line">package:com.android.wallpapercropper # tailor</span><br><span class="line">package:com.android.car.media</span><br><span class="line">package:com.quicinc.cne.CNEService</span><br><span class="line">package:com.android.car.radio</span><br><span class="line">package:com.android.car.trust</span><br><span class="line">package:com.core.system.service</span><br><span class="line">package:com.gxa.car.timesync</span><br><span class="line">package:com.android.protips  # tailor</span><br><span class="line">package:com.gxatek.cockpit.atmospherelampservice</span><br><span class="line">package:com.qiyi.video.pad</span><br><span class="line">package:com.android.documentsui # tailor</span><br><span class="line">package:com.android.externalstorage</span><br><span class="line">package:com.qualcomm.uimremoteclient</span><br><span class="line">package:com.android.htmlviewer # tailor</span><br><span class="line">package:com.gxatek.cockpit.launcher</span><br><span class="line">package:com.android.companiondevicemanager</span><br><span class="line">package:com.android.quicksearchbox # tailor</span><br><span class="line">package:com.android.mms.service  # tailor</span><br><span class="line">package:com.gxa.car.externalkey</span><br><span class="line">package:com.gxa.service.account</span><br><span class="line">package:com.qualcomm.qti.qms.service.connectionsecurity</span><br><span class="line">package:com.android.providers.downloads  # tailor</span><br><span class="line">package:com.gxatek.cockpit.vicelauncher</span><br><span class="line">package:com.desay_svautomotive.svcarinfo</span><br><span class="line">package:com.gxa.car.qnxapp</span><br><span class="line">package:com.gxatek.cockpit.gallery</span><br><span class="line">package:com.android.soundrecorder  # tailor</span><br><span class="line">package:android.car.cluster.loggingrenderer</span><br><span class="line">package:com.gxa.service.carusbupdate</span><br><span class="line">package:com.qualcomm.uimremoteserver</span><br><span class="line">package:com.android.defcontainer  # 应用安装相关的应用，删除可能无法启动</span><br><span class="line">package:com.qti.confuridialer</span><br><span class="line">package:com.desay_svautomotive.service.projectionservice</span><br><span class="line">package:com.android.car.mapsplaceholder</span><br><span class="line">package:com.android.providers.downloads.ui # tailor</span><br><span class="line">package:com.android.pacprocessor</span><br><span class="line">package:com.android.simappdialog   # tailor 插入sim卡的弹窗</span><br><span class="line">package:com.iflytek.cutefly.speechclient.hmi</span><br><span class="line">package:com.android.internal.display.cutout.emulation.tall</span><br><span class="line">package:com.android.certinstaller  # tailor 证书安装</span><br><span class="line">package:com.android.carrierconfig # tailor 可用网络的默认配置</span><br><span class="line">package:android</span><br><span class="line">package:com.android.contacts</span><br><span class="line">package:com.android.camera2</span><br><span class="line">package:com.qualcomm.wfd.service</span><br><span class="line">package:com.gxatek.cockpit.schedule</span><br><span class="line">package:com.android.car.systemupdater</span><br><span class="line">package:com.gxa.car.engineMode</span><br><span class="line">package:com.gxatek.cockpit.msgcenter</span><br><span class="line">package:com.android.car</span><br><span class="line">package:com.android.egg  # tailor 彩蛋</span><br><span class="line">package:com.android.mtp  # ? usb传输协议相关的</span><br><span class="line">package:com.android.nfc  # tailor </span><br><span class="line">package:com.android.stk</span><br><span class="line">package:com.android.backupconfirm</span><br><span class="line">package:com.gxatek.appservice.cluster</span><br><span class="line">package:com.gxa.service.devicemanager</span><br><span class="line">package:com.android.provision #系统初始化引导程序，写入一个DEVICE_PROVISIONED标记</span><br><span class="line">package:com.android.statementservice</span><br><span class="line">package:com.android.settings.intelligence</span><br><span class="line">package:com.android.calendar # tailor日历</span><br><span class="line">package:com.android.systemui.theme.dark</span><br><span class="line">package:com.gxatek.cockpit.carlife</span><br><span class="line">package:com.gxatek.cockpit.carplay</span><br><span class="line">package:com.gxa.car.ncm.overlay</span><br><span class="line">package:com.iflytek.auto.mall.hmi</span><br><span class="line">package:com.android.car.settings</span><br><span class="line">package:com.iflytek.autofly.h5</span><br><span class="line">package:com.qualcomm.qti.dynamicddsservice</span><br><span class="line">package:com.gxa.service.ebcall</span><br><span class="line">package:com.android.car.hvac</span><br><span class="line">package:com.qualcomm.qcrilmsgtunnel</span><br><span class="line">package:com.android.providers.settings</span><br><span class="line">package:com.android.sharedstoragebackup</span><br><span class="line">package:com.gxatek.cockpit.carsettings</span><br><span class="line">package:com.android.printspooler</span><br><span class="line">package:com.qualcomm.qti.improvetouch</span><br><span class="line">package:com.android.dreams.basic</span><br><span class="line">package:com.gxatek.cockpit.applet</span><br><span class="line">package:com.android.webview</span><br><span class="line">package:com.gxatek.cockpit.btcall</span><br><span class="line">package:com.android.se</span><br><span class="line">package:com.android.inputdevices</span><br><span class="line">package:com.android.support.car.lenspicker</span><br><span class="line">package:com.gxa.service.ota</span><br><span class="line">package:com.android.bips</span><br><span class="line">package:com.iflytek.autofly.mediax</span><br><span class="line">package:com.qti.dpmserviceapp</span><br><span class="line">package:com.google.android.car.defaultstoragemonitoringcompanionapp</span><br><span class="line">package:com.android.musicfx  # 原生音效</span><br><span class="line">package:com.gxatek.cockpit.scenesengine</span><br><span class="line">package:com.gxa.car.ncm</span><br><span class="line">package:com.android.cellbroadcastreceiver   # 小区广播</span><br><span class="line">package:android.ext.shared</span><br><span class="line">package:com.android.onetimeinitializer # 首次启动用于装谷歌app的</span><br><span class="line">package:com.android.server.telecom</span><br><span class="line">package:com.android.keychain</span><br><span class="line">package:com.qti.snapdragon.qdcm_ff</span><br><span class="line">package:com.ts.appservice.kanzikotanimationservice</span><br><span class="line">package:com.gxatek.cockpit.weather</span><br><span class="line">package:com.gxa.service.messagecenter</span><br><span class="line">package:com.android.printservice.recommendation</span><br><span class="line">package:com.android.dialer # 原生拨号盘</span><br><span class="line">package:com.android.gallery3d # 相机相框</span><br><span class="line">package:android.ext.services</span><br><span class="line">package:com.desay_svautomotive.multiscreen</span><br><span class="line">package:com.android.calllogbackup #手机通话记录备份工具</span><br><span class="line">package:com.gxatek.cockpit.testcarlife</span><br><span class="line">package:com.gxatek.cockpit.testcarplay</span><br><span class="line">package:com.android.packageinstaller</span><br><span class="line">package:com.android.carrierdefaultapp # 运营商默认流量服务</span><br><span class="line">package:com.gac.cloud.app</span><br><span class="line">package:com.android.car.media.localmediaplayer</span><br><span class="line">package:com.android.proxyhandler  # 自动配置代理</span><br><span class="line">package:com.gxa.car.procmanagement</span><br><span class="line">package:com.android.inputmethod.latin  # 原生输入法</span><br><span class="line">package:com.gxa.appservice.caradapter</span><br><span class="line">package:org.chromium.webview_shell</span><br><span class="line">package:android.car.usb.handler</span><br><span class="line">package:com.gxa.service.cluster</span><br><span class="line">package:com.gxa.service.settings</span><br><span class="line">package:com.android.managedprovisioning #工作组资料设置  ?</span><br><span class="line">package:com.gxa.service.mediacenterservice</span><br><span class="line">package:com.android.dreams.phototable  # PhotoTable屏保</span><br><span class="line">package:com.gxa.cockpit.hvac</span><br><span class="line">package:cn.gaei.appstore</span><br><span class="line">package:com.desaysv.otaservice</span><br><span class="line">package:com.gxa.firewall</span><br><span class="line">package:com.gxatek.cockpit.voicecarctrl</span><br><span class="line">package:com.android.smspush  # 短信推送</span><br><span class="line">package:com.android.wallpaper.livepicker  # 动态墙纸选择器</span><br><span class="line">package:com.gxa.service.weather</span><br><span class="line">package:com.google.android.car.vms.subscriber</span><br><span class="line">package:com.qti.snapdragon.qdcm_mobile</span><br><span class="line">package:com.gxa.appservice.platformadapter.adaptermainservice</span><br><span class="line">package:com.gxa.service.systemui</span><br><span class="line">package:com.android.storagemanager</span><br><span class="line">package:com.android.bookmarkprovider # 书签</span><br><span class="line">package:com.gxatek.cockpit.miniprogram</span><br><span class="line">package:com.android.settings</span><br><span class="line">package:com.qualcomm.qti.sva</span><br><span class="line">package:com.gxatek.cockpit.carservice</span><br><span class="line">package:com.gxatek.cockpit.avdc</span><br><span class="line">package:com.android.calculator2 # 计算器</span><br><span class="line">package:com.gxa.service.bluetooth</span><br><span class="line">package:com.gxatek.cockpit.settings</span><br><span class="line">package:com.android.cts.ctsshim # cts</span><br><span class="line">package:com.gxa.car.audio</span><br><span class="line">package:com.gxa.car.power</span><br><span class="line">package:com.gxa.car.scene</span><br><span class="line">package:com.iflytek.inputmethod</span><br><span class="line">package:com.qti.diagservices</span><br><span class="line">package:com.iflytek.autofly.dms</span><br><span class="line">package:com.android.vpndialogs # VPN</span><br><span class="line">package:com.iflytek.autofly.platformservice</span><br><span class="line">package:com.android.email   # 原生email</span><br><span class="line">package:com.android.music   # 原生music</span><br><span class="line">package:com.android.phone   # 原生phone</span><br><span class="line">package:com.android.shell  # ?</span><br><span class="line">package:com.android.wallpaperbackup # 墙纸备份</span><br><span class="line">package:com.android.providers.blockednumber</span><br><span class="line">package:com.android.providers.userdictionary  # 用户词典Content Provider</span><br><span class="line">package:com.android.emergency  # 急救信息</span><br><span class="line">package:com.gxa.car.wifi.service</span><br><span class="line">package:com.android.location.fused</span><br><span class="line">package:com.android.deskclock  # 自带闹钟</span><br><span class="line">package:com.android.systemui</span><br><span class="line">package:com.android.bluetoothmidiservice</span><br><span class="line">package:com.qualcomm.qti.poweroffalarm</span><br><span class="line">package:com.gxatek.cockpit.vpamultimode</span><br><span class="line">package:com.gxa.permission</span><br><span class="line">package:com.guangqi.chezaiapp</span><br><span class="line">package:com.gxa.car.hardkey</span><br><span class="line">package:com.android.traceur</span><br><span class="line">package:com.gxatek.cockpit.screensaver</span><br><span class="line">package:com.qualcomm.qti.qms.service.trustzoneaccess</span><br><span class="line">package:com.desaysv.ftpserver</span><br><span class="line">package:com.android.bluetooth</span><br><span class="line">package:com.qualcomm.timeservice</span><br><span class="line">package:com.android.providers.contacts</span><br><span class="line">package:com.gxatek.cockpit.dvr</span><br><span class="line">package:com.android.captiveportallogin # 网络连通信测试</span><br><span class="line">package:com.google.android.car.vms.publisher</span><br><span class="line">package:com.gxatek.cockpit.globalsearch</span><br><span class="line">package:org.codeaurora.qti.nrNetworkSettingApp</span><br><span class="line">package:com.gxatek.cockpit.account</span><br></pre></td></tr></table></figure>
<p>一共有201个应用。</p>
<h4 id="2-可裁剪应用"><a href="#2-可裁剪应用" class="headerlink" title="2.可裁剪应用"></a>2.可裁剪应用</h4><p>根据包名搜索应用依赖，没有依赖的可以支持裁掉编译版本试试功能。</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用来删减不需要编入到系统的模块</span></span><br><span class="line">PRODUCT_DELETE_PACKAGES += \</span><br><span class="line">	modulename</span><br><span class="line">	</span><br><span class="line">PRODUCT_DELETE_PACKAGES += \</span><br><span class="line">     Email \</span><br><span class="line">     Music \</span><br><span class="line">     TeleService \</span><br><span class="line">     CtsShimPrivPrebuilt \</span><br><span class="line">     WallpaperCropper \</span><br><span class="line">     DocumentsUI \</span><br><span class="line">     HTMLViewer \</span><br><span class="line">     Protips \</span><br><span class="line">     QuickSearchBox \</span><br><span class="line">     DownloadProvider \</span><br><span class="line">     SoundRecorder \</span><br><span class="line">     DownloadProviderUi \</span><br><span class="line">     SimAppDialog \</span><br><span class="line">     CertInstaller \</span><br><span class="line">     CarrierConfig \</span><br><span class="line">     EasterEgg \</span><br><span class="line">     NfcNci \</span><br><span class="line">     Calendar \</span><br><span class="line">     MusicFX \</span><br><span class="line">     CellBroadcastReceiver \</span><br><span class="line">     OneTimeInitializer \</span><br><span class="line">     Dialer \</span><br><span class="line">     Gallery2 \</span><br><span class="line">     CarrierDefaultApp \</span><br><span class="line">     ProxyHandler \</span><br><span class="line">     ManagedProvisioning \</span><br><span class="line">     CarLatinIME \</span><br><span class="line">     WAPPushManager \</span><br><span class="line">     LiveWallpapersPicker \</span><br><span class="line">     BookmarkProvider \</span><br><span class="line">     ExactCalculator \</span><br><span class="line">     CtsShimPrebuilt \</span><br><span class="line">     VpnDialogs \</span><br><span class="line">     WallpaperBackup \</span><br><span class="line">     UserDictionaryProvider \</span><br><span class="line">     EmergencyInfo \</span><br><span class="line">     DeskClock \</span><br><span class="line">     CaptivePortalLogin \</span><br><span class="line">     CalendarProvider</span><br></pre></td></tr></table></figure>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 或者使用如下Android.mk来裁剪模块</span></span><br><span class="line">LOCAL_PATH:= <span class="variable">$(<span class="built_in">call</span> my-<span class="built_in">dir</span>)</span></span><br><span class="line"><span class="keyword">include</span> <span class="variable">$(CLEAR_VARS)</span></span><br><span class="line"></span><br><span class="line">LOCAL_MODULE := CarExcludePackages</span><br><span class="line"></span><br><span class="line">LOCAL_MODULE_TAGS := optional</span><br><span class="line">LOCAL_MODULE_CLASS := FAKE</span><br><span class="line">LOCAL_MODULE_SUFFIX := <span class="variable">$(COMMON_ANDROID_PACKAGE_SUFFIX)</span></span><br><span class="line"></span><br><span class="line">LOCAL_OVERRIDES_PACKAGES += \</span><br><span class="line">    Launcher2 \</span><br><span class="line">    Launcher3 \</span><br><span class="line">    CarLauncher</span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span> <span class="variable">$(BUILD_SYSTEM)</span>/base_rules.mk</span><br><span class="line"></span><br><span class="line"><span class="variable">$(LOCAL_BUILT_MODULE)</span>:</span><br><span class="line">	<span class="variable">$(hide)</span> echo <span class="string">&quot;Fake: <span class="variable">$@</span>&quot;</span></span><br><span class="line">	<span class="variable">$(hide)</span> mkdir -p <span class="variable">$(<span class="built_in">dir</span> <span class="variable">$@</span>)</span></span><br><span class="line">	<span class="variable">$(hide)</span> touch <span class="variable">$@</span></span><br><span class="line"></span><br><span class="line">PACKAGES.<span class="variable">$(LOCAL_MODULE)</span>.OVERRIDES := <span class="variable">$(<span class="built_in">strip</span> <span class="variable">$(LOCAL_OVERRIDES_PACKAGES)</span>)</span></span><br></pre></td></tr></table></figure>


<p>首先通过<code>pm path 包名</code>找到对应编译时的LOCAL_MODULE 或者 LOCAL_PACKAGE_NAME, 然后通过包的名字或者模块名字找到对应的mk, 把模块名字加到<code>PRODUCT_DELETE_PACKAGES</code>下。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/Email/Android.mk</span></span><br><span class="line">com.android.email   # 原生email</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/Music/Android.mk</span></span><br><span class="line">com.android.music   # 原生music</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/services/Telephony/Android.mk</span></span><br><span class="line">com.android.phone   # 原生phone</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> frameworks/base/packages/CtsShim/Android.mk</span></span><br><span class="line">com.android.cts.priv.ctsshim # 原生cts app</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> frameworks/base/packages/WallpaperCropper/Android.mk</span></span><br><span class="line">com.android.wallpapercropper # 壁纸</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/Protips/Android.mk</span></span><br><span class="line">com.android.protips # 提示小绿人</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/DocumentsUI/Android.mk</span></span><br><span class="line">com.android.documentsui # 处理文档权限的组件控制对特定文件的访问</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/HTMLViewer/Android.mk</span></span><br><span class="line">com.android.htmlviewer # HTML查看器</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/QuickSearchBox/Android.mk</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> device/qcom/common/base.mk 配置加入</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> device/qcom/qssi/base.mk 配置加入</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> build/make/target/product/core.mk 配置加入</span></span><br><span class="line">com.android.quicksearchbox  # 原生全局搜索</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/services/Mms/Android.mk</span></span><br><span class="line">com.android.mms.service  # 短信服务</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/providers/DownloadProvider/Android.mk</span></span><br><span class="line">com.android.providers.downloads  # 浏览器点链接下载服务</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/SoundRecorder/Android.mk</span></span><br><span class="line">com.android.soundrecorder  # 原生录音机</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/providers/DownloadProvider/ui/Android.mk</span></span><br><span class="line">com.android.providers.downloads.ui </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> frameworks/base/packages/SimAppDialog/Android.mk</span></span><br><span class="line">com.android.simappdialog # sim插入弹窗</span><br><span class="line"><span class="meta">#</span><span class="bash"> ===========   正常  ==================</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/CertInstaller/Android.mk</span></span><br><span class="line">com.android.certinstaller # 证书安装服务</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/CarrierConfig/Android.mk</span></span><br><span class="line">com.android.carrierconfig  # 可用网络的默认配置</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> frameworks/base/packages/services/Proxy/Android.mk</span></span><br><span class="line">com.android.proxyhandler  # 自动配置代理</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> build/make/target/product/generic_no_telephony.mk</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> build/make/target/product/sdk_base.mk</span></span><br><span class="line">com.android.egg # 彩蛋</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/Nfc/Android.mk</span></span><br><span class="line">com.android.nfc  # nfc服务</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/Calendar/Android.mk</span></span><br><span class="line">com.android.calendar  # 日历</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/MusicFX/Android.mk</span></span><br><span class="line">com.android.musicfx  # 音效</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/CellBroadcastReceiver/Android.mk</span></span><br><span class="line">com.android.cellbroadcastreceiver # 小区广播</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/OneTimeInitializer/Android.mk</span></span><br><span class="line">com.android.onetimeinitializer # 首次启动用于装谷歌app的</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/Dialer/Android.mk</span></span><br><span class="line">com.android.dialer # 原生拨号盘</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/Gallery2/Android.mk</span></span><br><span class="line">com.android.gallery3d # 相机相框</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> frameworks/base/packages/CarrierDefaultApp/Android.mk</span></span><br><span class="line">com.android.carrierdefaultapp # 运营商默认流量服务</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/Car/LatinIME/Android.mk</span></span><br><span class="line">com.android.inputmethod.latin  # 原生输入法</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/ManagedProvisioning/Android.mk</span></span><br><span class="line">com.android.managedprovisioning # 工作组资料设置</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/screensavers/PhotoTable/Android.mk</span></span><br><span class="line">com.android.dreams.phototable  # PhotoTable屏保</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> frameworks/base/packages/WAPPushManager/Android.mk</span></span><br><span class="line">com.android.smspush  # 短信推送</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/wallpapers/LivePicker/Android.mk</span></span><br><span class="line">com.android.wallpaper.livepicker  # 动态墙纸选择器</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/providers/BookmarkProvider/Android.mk</span></span><br><span class="line">com.android.bookmarkprovider # 书签</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/ExactCalculator/Android.mk</span></span><br><span class="line">com.android.calculator2 # 计算器</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> frameworks/base/packages/CtsShim/Android.mk</span></span><br><span class="line">com.android.cts.ctsshim # cts</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> frameworks/base/packages/VpnDialogs/Android.mk</span></span><br><span class="line">com.android.vpndialogs # VPN</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> frameworks/base/packages/WallpaperBackup/Android.mk</span></span><br><span class="line">com.android.wallpaperbackup # 墙纸备份</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/providers/UserDictionaryProvider/Android.mk</span></span><br><span class="line">com.android.providers.userdictionary  # 用户词典Content Provider</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/EmergencyInfo/Android.mk</span></span><br><span class="line">com.android.emergency  # 急救信息</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/apps/DeskClock/Android.mk</span></span><br><span class="line">com.android.deskclock  # 自带闹钟</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> frameworks/base/packages/CaptivePortalLogin/Android.mk</span></span><br><span class="line">com.android.captiveportallogin # 网络连通信测试</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> packages/providers/CalendarProvider/Android.mk</span></span><br><span class="line">com.android.providers.calendar # 日历程序支持服务</span><br></pre></td></tr></table></figure>


<h4 id="3-修改编译脚本"><a href="#3-修改编译脚本" class="headerlink" title="3.修改编译脚本"></a>3.修改编译脚本</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># build/core/main.mk</span></span><br><span class="line"><span class="comment"># Filter out the overridden packages before doing expansion</span></span><br><span class="line">product_MODULES := <span class="variable">$(<span class="built_in">filter</span>-out $(<span class="built_in">foreach</span> p, <span class="variable">$(product_MODULES)</span>, \</span></span><br><span class="line"><span class="variable">$(PACKAGES.<span class="variable">$(p)</span>.OVERRIDES)</span>), <span class="variable">$(product_MODULES)</span>)</span><br><span class="line"><span class="comment"># Filter out executables as well</span></span><br><span class="line">product_MODULES := <span class="variable">$(<span class="built_in">filter</span>-out $(<span class="built_in">foreach</span> m, <span class="variable">$(product_MODULES)</span>, \</span></span><br><span class="line"><span class="variable">$(EXECUTABLES.<span class="variable">$(m)</span>.OVERRIDES)</span>), <span class="variable">$(product_MODULES)</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Filter out PRODUCT_DELETE_PACKAGES标签的模块</span></span><br><span class="line">product_MODULES := <span class="variable">$(<span class="built_in">filter</span>-out $(PRODUCTS.<span class="variable">$(INTERNAL_PRODUCT)</span>.PRODUCT_DELETE_PACKAGES)</span>, <span class="variable">$(product_MODULES)</span>)</span><br></pre></td></tr></table></figure>
<p>INTERNAL_PRODUCT值是: device/qcom/msmnile_gvmq/msmnile_gvmq.mk</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># build/core/product.mk</span></span><br><span class="line">_product_var_list := \</span><br><span class="line">    PRODUCT_NAME \</span><br><span class="line">    PRODUCT_MODEL \</span><br><span class="line">    PRODUCT_LOCALES \</span><br><span class="line">    PRODUCT_AAPT_CONFIG \</span><br><span class="line">    PRODUCT_AAPT_PREF_CONFIG \</span><br><span class="line">    PRODUCT_AAPT_PREBUILT_DPI \</span><br><span class="line">    PRODUCT_PACKAGES \</span><br><span class="line">    <span class="comment"># 添加PRODUCT_DELETE_PACKAGES标签</span></span><br><span class="line">    PRODUCT_DELETE_PACKAGES \</span><br><span class="line">    PRODUCT_PACKAGES_DEBUG \</span><br><span class="line">    PRODUCT_PACKAGES_ENG \</span><br><span class="line">    PRODUCT_PACKAGES_TESTS \</span><br><span class="line">    PRODUCT_DEVICE \</span><br><span class="line">    PRODUCT_MANUFACTURER </span><br></pre></td></tr></table></figure>


<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># device/qcom/common/base.mk</span></span><br><span class="line"></span><br><span class="line">PRODUCT_PACKAGES += liboemaids_system</span><br><span class="line">PRODUCT_PACKAGES += liboemaids_vendor</span><br><span class="line">PRODUCT_PACKAGES += android.hardware.health@2.0-service</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加入</span></span><br><span class="line"><span class="keyword">include</span> device/qcom/common/tailor.mk</span><br></pre></td></tr></table></figure>


<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># device/gxatek/common/tailor.mk</span></span><br><span class="line">PRODUCT_DELETE_PACKAGES += \</span><br><span class="line">     Email \</span><br><span class="line">     Music \</span><br><span class="line">     TeleService \</span><br><span class="line">     CtsShimPrivPrebuilt \</span><br><span class="line">     WallpaperCropper \</span><br><span class="line">     DocumentsUI \</span><br><span class="line">     HTMLViewer \</span><br><span class="line">     Protips \</span><br><span class="line">     QuickSearchBox \</span><br><span class="line">     DownloadProvider \</span><br><span class="line">     SoundRecorder \</span><br><span class="line">     DownloadProviderUi \</span><br><span class="line">     SimAppDialog \</span><br><span class="line">     CertInstaller \</span><br><span class="line">     CarrierConfig \</span><br><span class="line">     EasterEgg \</span><br><span class="line">     NfcNci \</span><br><span class="line">     Calendar \</span><br><span class="line">     MusicFX \</span><br><span class="line">     CellBroadcastReceiver \</span><br><span class="line">     OneTimeInitializer \</span><br><span class="line">     Dialer \</span><br><span class="line">     Gallery2 \</span><br><span class="line">     CarrierDefaultApp \</span><br><span class="line">     ProxyHandler \</span><br><span class="line">     ManagedProvisioning \</span><br><span class="line">     CarLatinIME \</span><br><span class="line">     WAPPushManager \</span><br><span class="line">     LiveWallpapersPicker \</span><br><span class="line">     BookmarkProvider \</span><br><span class="line">     ExactCalculator \</span><br><span class="line">     CtsShimPrebuilt \</span><br><span class="line">     VpnDialogs \</span><br><span class="line">     WallpaperBackup \</span><br><span class="line">     UserDictionaryProvider \</span><br><span class="line">     EmergencyInfo \</span><br><span class="line">     DeskClock \</span><br><span class="line">     CaptivePortalLogin \</span><br><span class="line">     CalendarProvider</span><br></pre></td></tr></table></figure>


<h4 id="4-优化后结果"><a href="#4-优化后结果" class="headerlink" title="4.优化后结果"></a>4.优化后结果</h4><p>优化前启动日志</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">15506</span> <span class="number">2021</span>/09/<span class="number">02</span> <span class="number">20</span>:<span class="number">06</span>:<span class="number">50.728475</span> <span class="number">15.0165</span> <span class="number">191</span> ECU1 am_a LOGD <span class="number">335</span> log info verbose <span class="number">1</span> I/am_activity_launch_time( <span class="number">732</span>): [<span class="number">0</span>,<span class="number">41558120</span>,com.android.settings/.FallbackHome,<span class="number">902</span>,<span class="number">902</span>]</span><br><span class="line"><span class="number">21304</span> <span class="number">2021</span>/09/08 <span class="number">21</span>:<span class="number">26</span>:<span class="number">15.593283</span> <span class="number">335844.3927</span> <span class="number">221</span> ECU1 am_a LOGD <span class="number">335</span> log info verbose <span class="number">1</span> I/am_activity_launch_time( <span class="number">732</span>): [<span class="number">0</span>,<span class="number">41558120</span>,com.android.settings/.FallbackHome,<span class="number">902</span>,<span class="number">902</span>]</span><br><span class="line"><span class="number">45648</span> <span class="number">2021</span>/09/08 <span class="number">21</span>:<span class="number">26</span>:<span class="number">29.368316</span> <span class="number">27.0577</span> <span class="number">245</span> ECU1 am_a LOGD <span class="number">335</span> log info verbose <span class="number">1</span> I/am_activity_launch_time( <span class="number">732</span>): [<span class="number">0</span>,<span class="number">109419867</span>,com.gxatek.cockpit.launcher/.LauncherActivity,<span class="number">5839</span>,<span class="number">5839</span>]</span><br><span class="line"><span class="number">46331</span> <span class="number">2021</span>/09/08 <span class="number">21</span>:<span class="number">26</span>:<span class="number">29.804092</span> <span class="number">28.0021</span> <span class="number">160</span> ECU1 am_a LOGD <span class="number">335</span> log info verbose <span class="number">1</span> I/am_activity_launch_time( <span class="number">732</span>): [<span class="number">0</span>,<span class="number">143134280</span>,com.gxatek.cockpit.vicelauncher/.MainActivity,<span class="number">1057</span>,<span class="number">1057</span>]</span><br></pre></td></tr></table></figure>
<p>从日志中看到优化前Android启动耗时在28s。</p>
<p>裁剪一半应用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">14153 2021/09/02 20:06:50.030267 14.0892 118 ECU1 am_a LOGD 337 log info verbose 1 I/am_activity_launch_time( 739): [0,250243696,com.android.settings/.FallbackHome,933,933]</span><br><span class="line">43483 2021/09/02 20:07:02.283826 27.0223 16 ECU1 am_a LOGD 337 log info verbose 1 I/am_activity_launch_time( 739): [0,141995565,com.gxatek.cockpit.launcher/.LauncherActivity,6054,6054]</span><br><span class="line">44365 2021/09/02 20:07:02.607031 27.0555 130 ECU1 am_a LOGD 337 log info verbose 1 I/am_activity_launch_time( 739): [0,170842785,com.gxatek.cockpit.vicelauncher/.MainActivity,858,858]</span><br></pre></td></tr></table></figure>
<p>从日志中看到优化前Android启动耗时在27s。</p>
<p>裁剪应用之后</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">14475</span> <span class="number">2021</span>/09/<span class="number">02</span> <span class="number">20</span>:<span class="number">06</span>:<span class="number">50.375211</span> <span class="number">13.0238</span> <span class="number">184</span> ECU1 am_a LOGD <span class="number">338</span> log info verbose <span class="number">1</span> I/am_activity_launch_time( <span class="number">732</span>): [<span class="number">0</span>,<span class="number">54614525</span>,com.android.settings/.FallbackHome,<span class="number">793</span>,<span class="number">793</span>]</span><br><span class="line"><span class="number">19098</span> <span class="number">2021</span>/09/08 <span class="number">21</span>:<span class="number">52</span>:<span class="number">48.474646</span> <span class="number">334249.4242</span> <span class="number">105</span> ECU1 am_a LOGD <span class="number">338</span> log info verbose <span class="number">1</span> I/am_activity_launch_time( <span class="number">732</span>): [<span class="number">0</span>,<span class="number">54614525</span>,com.android.settings/.FallbackHome,<span class="number">793</span>,<span class="number">793</span>]</span><br><span class="line"><span class="number">39476</span> <span class="number">2021</span>/09/08 <span class="number">21</span>:<span class="number">53</span>:<span class="number">01.071597</span> <span class="number">25.0651</span> <span class="number">3</span> ECU1 am_a LOGD <span class="number">338</span> log info verbose <span class="number">1</span> I/am_activity_launch_time( <span class="number">732</span>): [<span class="number">0</span>,<span class="number">64801107</span>,com.gxatek.cockpit.launcher/.LauncherActivity,<span class="number">6039</span>,<span class="number">6039</span>]</span><br><span class="line"><span class="number">39755</span> <span class="number">2021</span>/09/08 <span class="number">21</span>:<span class="number">53</span>:<span class="number">01.297294</span> <span class="number">25.0881</span> <span class="number">26</span> ECU1 am_a LOGD <span class="number">338</span> log info verbose <span class="number">1</span> I/am_activity_launch_time( <span class="number">732</span>): [<span class="number">0</span>,<span class="number">178297624</span>,com.gxatek.cockpit.vicelauncher/.MainActivity,<span class="number">830</span>,<span class="number">830</span>]</span><br></pre></td></tr></table></figure>
<p>从日志中看到优化前Android启动耗时在25s。</p>
<p><strong>总结：</strong>根据项目的需求，当车机系统裁掉以上应用后，开机启动耗时可以减少近3s。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://www.jianshu.com/u/10058d760200">Jack Ou</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://www.jianshu.com/u/10058d760200">https://www.jianshu.com/u/10058d760200</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">此文章版权归Jack Ou所有，如有转载，请註明来自原作者</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Android/">Android</a><a class="post-meta__tags" href="/tags/%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96/">系统优化</a><a class="post-meta__tags" href="/tags/%E5%BA%94%E7%94%A8%E6%9C%8D%E5%8A%A1%E8%A3%81%E5%89%AA/">应用服务裁剪</a></div><div class="post_share"><div class="social-share" data-image="https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://upload-images.jianshu.io/upload_images/13838098-2431fc1f0eb1b702.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" target="_blank"><img class="post-qr-code-img" src="https://upload-images.jianshu.io/upload_images/13838098-2431fc1f0eb1b702.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://upload-images.jianshu.io/upload_images/13838098-ea2cb9b10bc2f743.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" target="_blank"><img class="post-qr-code-img" src="https://upload-images.jianshu.io/upload_images/13838098-ea2cb9b10bc2f743.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/09/09/%E8%A7%A3%E5%86%B3google%E5%8E%9F%E7%94%9F%E4%BB%A3%E7%A0%81%E6%AD%BB%E9%94%81%E9%97%AE%E9%A2%98/"><img class="prev-cover" src="https://upload-images.jianshu.io/upload_images/13838098-58b009fa712802f7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">解决google原生代码死锁问题</div></div></a></div><div class="next-post pull-right"><a href="/2021/09/02/epoll%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/"><img class="next-cover" src="https://upload-images.jianshu.io/upload_images/13838098-40dc06421eaefe5c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">epoll使用详解</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/09/17/优化开机动画-系统优化/" title="优化开机动画-系统优化"><img class="cover" src="https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-17</div><div class="title">优化开机动画-系统优化</div></div></a></div><div><a href="/2021/11/03/GOS与A5888车机性能参数对比/" title="GOS与A5888车机性能参数对比"><img class="cover" src="https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-03</div><div class="title">GOS与A5888车机性能参数对比</div></div></a></div><div><a href="/2021/10/20/GOS项目整体应用性能问题/" title="GOS项目整体应用性能问题"><img class="cover" src="https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-20</div><div class="title">GOS项目整体应用性能问题</div></div></a></div><div><a href="/2021/10/25/聚媒体内存问题分析/" title="聚媒体内存问题分析"><img class="cover" src="https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-25</div><div class="title">聚媒体内存问题分析</div></div></a></div><div><a href="/2021/10/15/聚媒体应用卡顿分析/" title="聚媒体应用卡顿分析"><img class="cover" src="https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-15</div><div class="title">聚媒体应用卡顿分析</div></div></a></div><div><a href="/2021/10/15/Systrace使用说明以及使用场景总结/" title="Systrace使用说明以及使用场景总结"><img class="cover" src="https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-15</div><div class="title">Systrace使用说明以及使用场景总结</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://upload-images.jianshu.io/upload_images/13838098-a7dfe0e9d3ed649c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Jack Ou</div><div class="author-info__description">努力成为靠谱之人：凡事有交代，件件有着落，事事有回音</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">136</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">99</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://www.jianshu.com/u/10058d760200"><i class="fad fa-sheep"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/oujie123" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://www.jianshu.com/u/10058d760200" target="_blank" title="简书"><i class="fas fa-book-open"></i></a><a class="social-icon" href="https://blog.csdn.net/u010248147" target="_blank" title="CSDN"><i class="fab fa-microblog"></i></a><a class="social-icon" href="mailto:jackou4work@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎收看我的博客，很高兴与您一同成长！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E5%BA%94%E7%94%A8%E5%92%8C%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.</span> <span class="toc-text">1.系统中所有的应用和服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8F%AF%E8%A3%81%E5%89%AA%E5%BA%94%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">2.可裁剪应用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%BF%AE%E6%94%B9%E7%BC%96%E8%AF%91%E8%84%9A%E6%9C%AC"><span class="toc-number">3.</span> <span class="toc-text">3.修改编译脚本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BC%98%E5%8C%96%E5%90%8E%E7%BB%93%E6%9E%9C"><span class="toc-number">4.</span> <span class="toc-text">4.优化后结果</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/11/17/%E8%B0%83%E6%9F%A5A5888%E9%A1%B9%E7%9B%AE%E7%B3%BB%E7%BB%9F%E5%9C%A8%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%87%8D%E5%90%AF/" title="调查A5888项目系统在使用过程中重启"><img src="https://upload-images.jianshu.io/upload_images/13838098-1cd12a1be7c1f1a4.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="调查A5888项目系统在使用过程中重启"/></a><div class="content"><a class="title" href="/2021/11/17/%E8%B0%83%E6%9F%A5A5888%E9%A1%B9%E7%9B%AE%E7%B3%BB%E7%BB%9F%E5%9C%A8%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%87%8D%E5%90%AF/" title="调查A5888项目系统在使用过程中重启">调查A5888项目系统在使用过程中重启</a><time datetime="2021-11-17T09:06:05.000Z" title="发表于 2021-11-17 17:06:05">2021-11-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/10/%E7%94%B5%E6%B1%A0%E4%B8%8E%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="电池与网络优化-性能优化"><img src="https://upload-images.jianshu.io/upload_images/13838098-cdda3865282e1bb4.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="电池与网络优化-性能优化"/></a><div class="content"><a class="title" href="/2021/11/10/%E7%94%B5%E6%B1%A0%E4%B8%8E%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="电池与网络优化-性能优化">电池与网络优化-性能优化</a><time datetime="2021-11-10T15:59:27.000Z" title="发表于 2021-11-10 23:59:27">2021-11-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/03/GOS%E4%B8%8EA5888%E8%BD%A6%E6%9C%BA%E6%80%A7%E8%83%BD%E5%8F%82%E6%95%B0%E5%AF%B9%E6%AF%94/" title="GOS与A5888车机性能参数对比"><img src="https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="GOS与A5888车机性能参数对比"/></a><div class="content"><a class="title" href="/2021/11/03/GOS%E4%B8%8EA5888%E8%BD%A6%E6%9C%BA%E6%80%A7%E8%83%BD%E5%8F%82%E6%95%B0%E5%AF%B9%E6%AF%94/" title="GOS与A5888车机性能参数对比">GOS与A5888车机性能参数对比</a><time datetime="2021-11-03T02:07:14.000Z" title="发表于 2021-11-03 10:07:14">2021-11-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/01/%E8%A7%A3%E5%86%B3%E8%AF%AD%E9%9F%B3%E5%8A%A9%E7%90%86%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E7%A9%BA%E8%B0%83%E5%BA%94%E7%94%A8%E9%97%AE%E9%A2%98/" title="解决语音助理无法打开空调应用问题"><img src="https://upload-images.jianshu.io/upload_images/13838098-9b1947f1aa7aef5c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="解决语音助理无法打开空调应用问题"/></a><div class="content"><a class="title" href="/2021/11/01/%E8%A7%A3%E5%86%B3%E8%AF%AD%E9%9F%B3%E5%8A%A9%E7%90%86%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E7%A9%BA%E8%B0%83%E5%BA%94%E7%94%A8%E9%97%AE%E9%A2%98/" title="解决语音助理无法打开空调应用问题">解决语音助理无法打开空调应用问题</a><time datetime="2021-11-01T02:28:30.000Z" title="发表于 2021-11-01 10:28:30">2021-11-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/10/25/%E8%81%9A%E5%AA%92%E4%BD%93%E5%86%85%E5%AD%98%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90/" title="聚媒体内存问题分析"><img src="https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="聚媒体内存问题分析"/></a><div class="content"><a class="title" href="/2021/10/25/%E8%81%9A%E5%AA%92%E4%BD%93%E5%86%85%E5%AD%98%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90/" title="聚媒体内存问题分析">聚媒体内存问题分析</a><time datetime="2021-10-25T03:06:08.000Z" title="发表于 2021-10-25 11:06:08">2021-10-25</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://upload-images.jianshu.io/upload_images/13838098-e1177de6d391bef7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Jack Ou</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://oujie123.github.io/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.spacingElementById('content-inner')
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.spacingElementById('content-inner')
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> {preloader.endLoading()})</script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="true" data-text="I,LOVE,YOU" data-fontsize="15px" data-random="false" async="async"></script></div></body></html>